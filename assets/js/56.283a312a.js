(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{207:function(a,s,t){"use strict";t.r(s);var e=t(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"jvm常用命令整理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm常用命令整理","aria-hidden":"true"}},[a._v("#")]),a._v(" JVM常用命令整理")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#对象数量"}},[a._v("对象数量")])]),t("li",[t("a",{attrs:{href:"#内存dump"}},[a._v("内存Dump")])]),t("li",[t("a",{attrs:{href:"#gc情况"}},[a._v("GC情况")]),t("ul",[t("li",[t("a",{attrs:{href:"#指标解释："}},[a._v("指标解释：")])])])]),t("li",[t("a",{attrs:{href:"#线程堆栈"}},[a._v("线程堆栈")])]),t("li",[t("a",{attrs:{href:"#线程的资源情况"}},[a._v("线程的资源情况")])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"对象数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对象数量","aria-hidden":"true"}},[a._v("#")]),a._v(" 对象数量")]),a._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[a._v("jmap "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("histo 【pid】>jmaphisto"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log\njmap "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("F "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("histo 【pid】>jmaphisto"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log    "),t("span",{attrs:{class:"token comment"}},[a._v("#服务已死加 -F")]),a._v("\njmap "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("histo:live 【pid】>jmaphisto"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log  "),t("span",{attrs:{class:"token comment"}},[a._v("#只看存活（会触发fullgc再导出）")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h2",{attrs:{id:"内存dump"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存dump","aria-hidden":"true"}},[a._v("#")]),a._v(" 内存Dump")]),a._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[a._v("jmap "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("dump:format=b"),t("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("file=jmapdump"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hprof 【pid】\njmap "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("F "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("dump:format=b"),t("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("file=jmapdump"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hprof 【pid】\ntar zcvf jmapdump"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hprof"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("tar"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gz jmapdump"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hprof\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h2",{attrs:{id:"gc情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gc情况","aria-hidden":"true"}},[a._v("#")]),a._v(" GC情况")]),a._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[a._v("jstat "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("gccapacity\njstat "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("gcutil 【pid】 1000 100 "),t("span",{attrs:{class:"token comment"}},[a._v("#每1000毫秒看内存情况，持续100次")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"指标解释："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指标解释：","aria-hidden":"true"}},[a._v("#")]),a._v(" 指标解释：")]),a._v(" "),t("ul",[t("li",[a._v("S0 — Heap上的 Survivor space 0 区已使用空间的百分比")]),a._v(" "),t("li",[a._v("S1 — Heap上的 Survivor space 1 区已使用空间的百分比")]),a._v(" "),t("li",[a._v("E — Heap上的 Eden space 区已使用空间的百分比")]),a._v(" "),t("li",[a._v("O — Heap上的 Old space 区已使用空间的百分比")]),a._v(" "),t("li",[a._v("P — Perm space 区已使用空间的百分比")]),a._v(" "),t("li",[a._v("YGC — 从应用程序启动到采样时发生 Young GC 的次数")]),a._v(" "),t("li",[a._v("YGCT– 从应用程序启动到采样时 Young GC 所用的时间(单位秒)")]),a._v(" "),t("li",[a._v("FGC — 从应用程序启动到采样时发生 Full GC 的次数")]),a._v(" "),t("li",[a._v("FGCT– 从应用程序启动到采样时 Full GC 所用的时间(单位秒)")]),a._v(" "),t("li",[a._v("GCT — 从应用程序启动到采样时用于垃圾回收的总时间(单位秒)")])]),a._v(" "),t("h2",{attrs:{id:"线程堆栈"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#线程堆栈","aria-hidden":"true"}},[a._v("#")]),a._v(" 线程堆栈")]),a._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[a._v("jstack 【pid】 >jstack"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log\njstack "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("F 【pid】 >jstack"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log   "),t("span",{attrs:{class:"token comment"}},[a._v("#服务已死加 -F")]),a._v("\njstack "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("F "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("m 【pid】 >jstack"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log\njstack "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("F "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("m "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("l 【pid】 >jstack"),t("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h2",{attrs:{id:"线程的资源情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#线程的资源情况","aria-hidden":"true"}},[a._v("#")]),a._v(" 线程的资源情况")]),a._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[a._v("pstree 【pid】  打印进程的线程使用情况\ntop  看资源使用情况\ntop "),t("span",{attrs:{class:"token operator"}},[a._v("-")]),a._v("Hp 【pid】      看进程内线程资源情况转为16进制配合jstack可查询线程cpu情况\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])])}],!1,null,null,null);n.options.__file="README.md";s.default=n.exports}}]);