(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{221:function(t,a,i){"use strict";i.r(a);var s=i(0),_=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"content"},[i("h1",{attrs:{id:"春节项目总结"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#春节项目总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 春节项目总结")]),t._v(" "),i("p"),i("div",{staticClass:"table-of-contents"},[i("ul",[i("li",[i("a",{attrs:{href:"#踩过的坑、解决问题总结"}},[t._v("踩过的坑、解决问题总结")]),i("ul",[i("li",[i("a",{attrs:{href:"#日志打印"}},[t._v("日志打印")])]),i("li",[i("a",{attrs:{href:"#上线相关"}},[t._v("上线相关")])]),i("li",[i("a",{attrs:{href:"#业务对接"}},[t._v("业务对接")])]),i("li",[i("a",{attrs:{href:"#资源相关"}},[t._v("资源相关")])]),i("li",[i("a",{attrs:{href:"#相关指标"}},[t._v("相关指标")])]),i("li",[i("a",{attrs:{href:"#code相关"}},[t._v("code相关")])])])]),i("li",[i("a",{attrs:{href:"#个人能力"}},[t._v("个人能力")])])])]),i("p"),t._v(" "),i("h2",{attrs:{id:"踩过的坑、解决问题总结"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#踩过的坑、解决问题总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 踩过的坑、解决问题总结")]),t._v(" "),i("h3",{attrs:{id:"日志打印"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#日志打印","aria-hidden":"true"}},[t._v("#")]),t._v(" 日志打印")]),t._v(" "),i("div",{staticClass:"tip custom-block"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("ul",[i("li",[t._v("perf log 日志打印过程中，PerfUtils.perf 在使用的过程中，不要使用变量(测试环境遇到bug,导致"),i("code",[t._v("OOM")]),t._v(")")]),t._v(" "),i("li",[t._v("如果非要传变量统计，请使用:\n"),i("code",[t._v("PerfUtils.perf(TAG, SUB_TAG_RED_PACKET_INSERT_PAY).millis(payRecord.getCreateTime())")]),t._v("在mills中传参，根据具体情况统计；")])])]),t._v(" "),i("h3",{attrs:{id:"上线相关"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#上线相关","aria-hidden":"true"}},[t._v("#")]),t._v(" 上线相关")]),t._v(" "),i("ul",[i("li",[t._v("任何线上变动 一定要先灰度观察，然后再上线或者重启；")]),t._v(" "),i("li",[t._v("非标准runner、sdk、api,需要找王至前新建jenkins项目，遇到的坑")])]),t._v(" "),i("div",{staticClass:"warning custom-block"},[i("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),i("p",[t._v("jenkins 两个api同时勾选打包，会被新的api覆盖掉老的API(已经修复)")])]),t._v(" "),i("h3",{attrs:{id:"业务对接"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#业务对接","aria-hidden":"true"}},[t._v("#")]),t._v(" 业务对接")]),t._v(" "),i("ul",[i("li",[t._v("被调用方\n对接任何上下游系统，一定要了解：入参、返回值、正确的调用方式、接口响应时间、同步异步、是否存在降级策略、\n具体功能、实现原理、服务挂掉对业务的影响；")]),t._v(" "),i("li",[t._v("调用方：是否存在服务限流，是否存在响应超时处理预案、监控是否完善(区分各种异常情况)；")])]),t._v(" "),i("h3",{attrs:{id:"资源相关"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#资源相关","aria-hidden":"true"}},[t._v("#")]),t._v(" 资源相关")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("资源申请环境：测试发现问题、预演解决bug(测试账号)、线上压测发现问题、code review尽可能确认表结构，避免大的改动")])]),t._v(" "),i("li",[i("p",[t._v("资源预估环节：根据压测结果*2倍去申请资源，基本上不会存在问题")])]),t._v(" "),i("li",[i("p",[t._v("mysql资源：mysql索引创建要根据数据分布去创建")])]),t._v(" "),i("li",[i("p",[t._v("kafka资源：")]),t._v(" "),i("ul",[i("li",[t._v("需要自己新建kafka集群，默认消费就就近消费，单机房部署也可以消费其他机房的kafka,部署机器数量："),i("div",{staticClass:"tip custom-block"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("p",[t._v("最优部署> n+1 n表示kafka partition数量")])])]),t._v(" "),i("li",[t._v("数据同步需要自己新建同步的topic,即离线的集群，然后在数据同步平台新建同步到hive的job"),i("div",{staticClass:"warning custom-block"},[i("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),i("p",[t._v("数据同步平台要求同步kafka topic 对应的partition下一个时刻全部有数据写入，才会同步上一个时刻的数据")])])])])]),t._v(" "),i("li",[i("p",[t._v("kcs部署：要确保配置日志路径正确，kcs重新部署会重新分配机器+端口号，如果需要排查问题 && 知道物理机，则可以申请权限去查询\n错误路径则无法实现日志归档")])])]),t._v(" "),i("h3",{attrs:{id:"相关指标"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#相关指标","aria-hidden":"true"}},[t._v("#")]),t._v(" 相关指标")]),t._v(" "),i("ul",[i("li",[t._v("数据库相关：数据库 tps承载量、数据库所在机器CPU、内存、数据库的连接数、数据库主从同步延迟、SQL执行时间：基本上均为ms级别，接近s级别和s级以上需要排查原因；")]),t._v(" "),i("li",[t._v("redis相关：redis查询量，redis命中率，以及相关操作是否符合代码中出现频次，redis查询时间基本上都是ms或者更小，有值比较大时需要排查问题")]),t._v(" "),i("li",[t._v("机器相关：看看CPU使用率，young gc full gc发生频率，结合代码中的操作，确定CPU核数 或者相关参数大小：-Xms8G -Xss256k -Xmn4G -Xmx10G")]),t._v(" "),i("li",[t._v("压测相关：   对压测和公演环境出现的问题一定要深究，提前解决掉出现的问题，相关监控 要尽可能提前完善")])]),t._v(" "),i("h3",{attrs:{id:"code相关"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#code相关","aria-hidden":"true"}},[t._v("#")]),t._v(" code相关")]),t._v(" "),i("ul",[i("li",[t._v("追求简洁高效的处理方案，结合具体业务")]),t._v(" "),i("li",[t._v("使用公司框架之前要彻底了解原理后再使用")]),t._v(" "),i("li",[t._v("谢绝使用lombok:原因是会插入代码，排查问题时，无法准确定位代码行号")]),t._v(" "),i("li",[t._v("相关变量：必须可配置，避免出现写死的情况，和前端需要交互的内容则由后端下发")])]),t._v(" "),i("h2",{attrs:{id:"个人能力"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#个人能力","aria-hidden":"true"}},[t._v("#")]),t._v(" 个人能力")]),t._v(" "),i("ul",[i("li",[t._v("mysql、redis、nginx的实际应用知识点不全面，缺少排查问题的思路")]),t._v(" "),i("li",[t._v("代码质量相关：拒绝出现低级错误")]),t._v(" "),i("li",[t._v("相关linux命令不熟悉，导致排查问题太慢")]),t._v(" "),i("li",[t._v("灾备意识不强，对任何操作要有回滚操作和灾备方案，要对自己的所有操作有兜底预案")])])])}],!1,null,null,null);_.options.__file="README.md";a.default=_.exports}}]);